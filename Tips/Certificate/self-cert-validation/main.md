## はじめに

自己証明書を発行する流れについてまとめました。備忘録です。

記事目安...5分

[:contents]

## 解説

自己証明書を発行するケースと、第3者 CA にサーバ証明書を認証してもらうケースの違いは、　**電子署名を自分がするかどうか** です。  
自分で電子署名を行うから、 "自己"証明書や"オレオレ"証明書と呼ばれるのですね。

第3者 CA にサーバ証明書を認証してもらうケースについては、[こちらのブログ](https://blog.serverworks.co.jp/server-certificate-validation) をご参考ください。

---

図で表してみます。

[f:id:swx-sugaya:20201214191833p:plain]


〇各作業の詳細

① *hogehoge* サーバ管理者が、秘密鍵ファイル ( *hogehoge.key* )から、 署名要求ファイル( *hogehoge.csr* ) を作成します。

② *hogehoge* サーバ管理者が、署名要求ファイル( *hogehoge.csr* )　をハッシュ関数でハッシュ化します。

④ *hogehoge* サーバ管理者が、自身の秘密鍵ファイル( *hogehoge.key* ) を使用して、ハッシュ値を暗号化します。  
この時に使用する秘密鍵は、署名要求ファイルを作成する際に使用したものと同一であっても構いません。

⑤ *hogehoge* サーバ管理者が、、署名要求ファイル( *hogehoge.csr* ) と、暗号化したハッシュ値を組み合わせて、サーバ証明書ファイル( *hogehoge.crt* ) を作成します。


## まとめ

認識間違っているところがあればコメントいただけると幸いです。

ご覧いただきありがとうございました。


